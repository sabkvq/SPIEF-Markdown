---
aliases:
  - RHCE
tags:
  - iac_automation
---
# Описание

Ansible — это мощный инструмент автоматизации управления конфигурацией, оркестрации и развёртывания приложений, который позволяет централизованно управлять серверами и инфраструктурой без установки агентов на управляемые узлы. Он использует SSH для подключения к хостам и выполняет задачи с помощью модулей, описанных в YAML-формате playbook.

## Инструменты

- **ansible-config** — утилита для управления и просмотра параметров конфигурации Ansible. С помощью команды
    
    [[bash]]
    
    `ansible-config init --disabled > ansible.cfg`
    
    можно создать шаблон файла конфигурации `ansible.cfg` с отключёнными плагинами, который служит отправной точкой для настройки Ansible.
    
- **ansible-galaxy** — инструмент для управления ролями Ansible. Позволяет скачивать, создавать и публиковать роли, что упрощает повторное использование и обмен конфигурациями между проектами и командами
    

## Связь с другими навыками

|Технология|Взаимодействие|
|---|---|
|SSH|Используется для подключения к управляемым хостам без установки агентов|
|YAML|Формат описания сценариев (playbook) и конфигураций Ansible|
|Jinja2|Система шаблонов для динамической генерации конфигурационных файлов|
|Docker/Kubernetes|Интеграция для управления контейнеризированными приложениями|
|Облачные провайдеры (AWS, Azure, GCP)|Автоматизация создания и управления облачной инфраструктурой|

## Архитектура и основные понятия

- **Control machine** — управляющий хост, на котором установлен Ansible.
    
- **Managed nodes** — управляемые хосты, к которым Ansible подключается по SSH.
    
- **Inventory** — файл или источник, где описаны управляемые хосты и группы.
    
- **Playbook** — сценарий автоматизации, описанный на YAML, состоящий из plays.
    
- **Play** — набор задач (tasks), которые выполняются на указанных хостах.
    
- **Task** — отдельное действие, вызывающее модуль Ansible.
    
- **Module** — функциональный блок, реализующий конкретное действие (например, установка пакета).
    
- **Role** — структурированный набор задач, переменных, обработчиков и шаблонов для повторного использования.
    
- **Handler** — задача, выполняющаяся при изменении состояния системы (например, перезапуск сервиса).
    
- **Template** — файл с шаблоном на Jinja2 для генерации конфигураций
    

# Практика

## Оценка уровня навыка

|Уровень|Описание|Ключевые навыки|Критерии оценки|
|---|---|---|---|
|Junior|Знакомство с основами Ansible|Запуск простых playbook, базовые модули|Умение писать простые задачи, базовая работа с inventory|
|Middle|Автоматизация рутинных задач|Использование ролей, переменных, шаблонов|Настройка ansible.cfg, работа с ansible-galaxy|
|Senior|Проектирование комплексных решений|Оркестрация, управление облаком, контейнерами|Оптимизация playbook, создание и публикация ролей|
|Expert|Архитектура автоматизации, интеграция|Разработка модулей, масштабирование|Внедрение best practices, обучение команды|

## Бизнес-ценность и использование в работе

|Применение|Описание|Преимущества|Рекомендации по использованию|
|---|---|---|---|
|Управление конфигурацией|Автоматизация настройки и поддержания серверов|Снижение ошибок, ускорение развертывания|Использовать ansible.cfg для централизованной настройки|
|Развёртывание приложений|Автоматизация установки и обновления ПО|Быстрое и повторяемое развертывание|Использовать роли и шаблоны для стандартизации|
|Оркестрация|Координация действий на множестве серверов|Эффективное управление сложными процессами|Интегрировать с CI/CD и облачными сервисами|
|Управление ролями|Повторное использование и обмен конфигурациями|Ускорение разработки и поддержки|Использовать ansible-galaxy для работы с ролями|

## Pet-project

| Уровень | Название проекта                              | Описание                                             | Технологии              | Критерий успеха                               | Вспомогательные ссылки                                                                                                                                                    |
| ------- | --------------------------------------------- | ---------------------------------------------------- | ----------------------- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Junior  | Автоматизация установки Apache                | Создание playbook для установки и настройки Apache   | Ansible, YAML           | Успешное развертывание на нескольких серверах | [2](https://practicum.yandex.ru/blog/ansible-sistema-upravleniya-serverami/)[5](https://www.8host.com/blog/osnovy-upravleniya-konfiguraciej-s-pomoshhyu-ansible/)         |
| Middle  | Управление конфигурацией базы данных          | Использование ролей для настройки MySQL              | Ansible, ansible-galaxy | Повторяемость и масштабируемость              | [7](https://devopsgu.ru/glossary/glossary-ansible/)                                                                                                                       |
| Senior  | Оркестрация обновлений кластера               | Автоматизация обновления и перезапуска сервисов      | Ansible, Jinja2, SSH    | Минимальное время простоя                     | [2](https://practicum.yandex.ru/blog/ansible-sistema-upravleniya-serverami/)[4](https://ansible-for-network-engineers.readthedocs.io/ru/latest/book/01_basics/index.html) |
| Expert  | Интеграция Ansible с облачной инфраструктурой | Автоматическое создание и управление ресурсами в AWS | Ansible, AWS CLI        | Полная автоматизация инфраструктуры           | [2](https://practicum.yandex.ru/blog/ansible-sistema-upravleniya-serverami/)[7](https://devopsgu.ru/glossary/glossary-ansible/)                                           |

## Траблшутинг

- Проверка конфигурации с помощью `ansible-config` (например, `ansible-config dump`).
    
- Использование подробного вывода (`-vvv`) для диагностики проблем.
    
- Проверка правильности инвентарных файлов и переменных.
    
- Отладка ролей и шаблонов через локальное тестирование.
    
- Управление версиями ролей через ansible-galaxy.
    

## Ресурсы, форумы

- Официальная документация Ansible
    
- Сообщество Ansible на GitHub и Reddit
    
- Форумы DevOps и Stack Overflow
    
- Курсы и статьи на Skillbox, Habr, Yandex Practicum